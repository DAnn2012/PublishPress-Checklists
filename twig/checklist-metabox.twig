{% set show_required_legend = false %}

<div id="{{ metadata_taxonomy }}-meta-box">
    <input type="hidden" name="{{ metadata_taxonomy }}_nonce" value="{{ nonce }}"/>

    <ul id="pp-checklists-req-box">
        {% if not requirements %}
            <p>
                <em>{{ lang.to_use_checklists }} <a href="{{ configure_link }}"
                                                    class="">{{ lang.please_choose_req }}</a></em>
            </p>
        {% endif %}

        {% for key, req in requirements %}
            <li
                    id="pp-checklists-req-{{ key }}"
                    class="pp-checklists-req {{ req.rule }} status-{{ req.status ? 'yes' : 'no' }} {{ req.is_custom ? 'pp-checklists-custom-item' : '' }}"
                    data-id="{{ key }}"
                    data-type="{{ req.type }}">

                {% if req.is_custom %}
                    <input type="hidden" name="_PUBLISHPRESS_CHECKLISTS_custom_item[{{ req.id }}]"
                           value="{{ req.status ? 'yes' : 'no' }}"/>
                {% endif %}

                <span class="dashicons dashicons-{{ req.status ? 'yes' : 'no' }}"></span>
                <span class="status-label">{{ req.label|raw }}</span>

                <span>
					{% if req.rule == 'block' %}
                        *

                        {% set show_required_legend = true %}
                    {% endif %}
				</span>
            </li>
        {% endfor %}
    </ul>

    {% if show_required_legend %}
        <em>(*) {{ lang.required }}</em>
    {% endif %}
</div>

{# Modal Windows #}
<div class="remodal" data-remodal-id="pp-checklists-modal-alert"
     data-remodal-options="hashTracking: false, closeOnOutsideClick: false">
    <div id="pp-checklists-modal-alert-content"></div>
    <br>
    <button data-remodal-action="cancel" class="remodal-cancel">{{ lang.dont_publish }}</button>
</div>

<div class="remodal" data-remodal-id="pp-checklists-modal-confirm"
     data-remodal-options="hashTracking: false, closeOnOutsideClick: false">
    <div id="pp-checklists-modal-confirm-content"></div>
    <br>
    <button data-remodal-action="cancel" class="remodal-cancel">{{ lang.dont_publish }}</button>
    <button data-remodal-action="confirm" class="remodal-confirm">{{ lang.yes_publish }}</button>
</div>
